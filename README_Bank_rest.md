# Система управления банковскими картами

## Проект банковской системы

Тестовый проект реализован с помощью языка программирования **Java** и фреймворка **Spring Boot**. Основные задачи:
- Создание и управление картами
- Просмотр карт
- Переводы между своими картами

---

## Возможности

### Администратор:
- Создает, блокирует, активирует, удаляет карты
- Управляет пользователями
- Видит все карты

### Пользователь:
- Просматривает свои карты (пагинация, сортировка, фильтрация)
- Запрашивает блокировку карты
- Делает переводы между своими картами
- Смотрит баланс

## Безопасность
- Шифрование данных (пароли, номера карт)
- Ролевой доступ (ADMIN, USER)
- JWT-аутентификация
- Рефреш токенов
- Маскирование номеров карт

---

## Сущности

### User
Сущность, представляющая пользователя:
- `id`: идентификатор
- `username`: имя пользователя (уникальное)
- `password`: пароль
- `role (ADMIN, USER)`: роль

### RefreshToken
Сущность, представляющая рефреш токен пользователя:
- `id`: идентификатор
- `userId`: идентификатор пользователя
- `refreshToken`: рефреш токен для получения новой пары токенов (access, refresh)

### Card
Сущность, представляющая банковскую карту:
- `id`: идентификатор
- `cardNumber`: вывод в виде маски "**** **** **** 4325"
- `owner/ownerId (User)`: владелец/пользователь карты
- `expiryDate (Date)`: срок истечения карты
- `status (ACTIVE, BLOCKED, EXPIRED, BLOCK_REQUESTED)`: статус карты, вручную можно ставить лишь ACTIVE, BLOCKED
- `balance`: баланс карты

### Transaction
- `id`: идентификатор
- `fromCardNumber`: карта, с которой осуществляется перевод
- `toCardNumber`: карта, на которую осуществляется перевод
- `amount`: сумма перевода
- `executedAt (Date)`: дата осуществления операции

---

## Работа с БД

Используемая БД - **PostgreSQL**.
Созданы миграции, располагаются в `resources/db/migration/changelog`.

## Документация

Документацию можно посмотреть:
- Через конечную точку `localhost:8080/swagger-ui.html`
- С помощью openapi.yaml `docs/openapi.yaml`
- С помощью конечной точки скачать yaml: `localhost:8080/api-docs.yaml`

Также краткое описание API присутствует в `docs/README_Docs.md`.

## Развертывание и тестирование

Запуск dev-среды в Docker-Compose:
```bash
docker-compose up -d
```

Файлы тестирования располагаются в `src/test/java/`.







